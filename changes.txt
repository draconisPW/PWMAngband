================
PWMAngband 1.2.0
================

For a full list of changes made in older versions, check the Official
PWMAngband Forum: http://www.mangband.org/forum/viewforum.php?f=9

Features from Angband 4.x and MAngband 1.x are explicitely mentioned. Other
changes and fixes are specific to PWMAngband.

New features in PWMAngband 1.2.0 build 2
========================================

User interface
--------------

PWMAngband:

- Rename House of Arcanes to Bookseller

Gameplay changes
----------------

Angband 4.1.x:

- Monsters with "drop-base" drop random book based on depth

Coding changes
--------------

Angband 4.1.x:

- Make book realms struct magic_realm
- Give spells a realm
- Remove class realms, replace class spellcasting stat with average of
  spellcasting stats
- Move books from object.txt to class.txt
- Add drop-base to monster.txt

PWMAngband:

- Remove obsolete PRAY packet, use CAST instead
- Redesign town_feat.txt and town_xxx.txt files to allow 255x255 different tiles
  in towns

Features in PWMAngband 1.2.0 build 1
====================================

User interface
--------------

MAngband 1.1.4:

- Add player level, class and race to death message

PWMAngband:

- Use account password for all characters associated with that account
- Remove "change password" feature from character description screen
- Allow "glyph:terrain name:symbol" format in font-xxx.prf to specify
  default attribute for all lighting effects
- Reduce the allowed minimum size of subterms to a fifth of the maximal
  size (16x4)
- Add 16x24tx.fon, 21x31tg.fon and 24x36tg.fon from Tangar
- Stop treating back-quote as escape
- New fire-till-kill option (MAngband submenu)
- New option "disturb_faint" (MAngband submenu) to enable or disable automatic
  disconnection if starving while at full hps (false by default)
- Add a basic framework for autoinscriptions
- Change inscription for player to '#P'
- Change inscription for recall to '#R'
- Add [Escape] by default at the beginning of the keymap when creating
  a new keymap
- Display a message when monks get encumbered by armor
- New command in stores: Browse a book ('b') or Peruse a book ('P')

Gameplay changes
----------------

MAngband 1.1.4:

- Make server save 10 minutes interval by default
- Don't try to auto retaliate when afraid
- Characters that permanently die drop nothing upon death
- Add potions of Healing in the Temple (with high rarity and price factor)

PWMAngband:

- Make maximum number of characters per account a server option
- Lower Expensive Black Market price factor from 10x to 8x
- Increase the number of items that can be ordered in the Expensive Black Market
  from 6 to 8
- Implement fire-till-kill mode for "fire at nearest" command
- Implement fire-till-kill mode for spells
- Remove score bonuses from challenge options
- Add more birth options to server configuration file (no artifacts,
  no selling, no stores)
- Add chance of generating "good" and "great" items in constant.txt
- Add "fast" wilderness mode via DIVING_MODE server option to make everyone
  aware of the location of the base town (Carn Dûm) at birth
- Make players without birth_start_kit set start with an amount of gold
  at least equal to the value of the items they don't get
- Make Deep Nights only empty the lights of hostile players
- Give players starting food/light for free no matter if birth_start_kit is set
  or not
- Remove all trading restrictions between players when no_selling is set
- Add customizable experience penalty to each dragon breed
- Tweak commonness of dragon breeds to make better ones rarer, make ethereal
  drake much rarer
- Make white/blue/red/black dragons immune to cold/lightning/fire/acid
- Make Ents vulnerable to fire but decrease their experience penalty a bit
- Make permanent wraithform drain hp and prevent regeneration while
  the wraithed player stands inside non-passable terrain
- Rebalance player invisibility a bit, nerf permanent invisibility (except
  for ghosts)
- Make wraithform and invisibility consume a lot of food
- Change Shapechangers' AC formula from (equip + race / 2) to
  MAX((equip + race) / 2, equip)
- Add Black Breath

Bugs fixed
----------

PWMAngband:

- Reposition and resize the chat line properly when the chat window is resized
- Fix 32bit builds of the Windows client
- Allow looking and targeting with roguelike keyset
- Allow lowercase Dungeon Master names in mangband.cfg
- Fix incorrect options/ignore packets crashing the server
- Fix scene of death in character dumps when using tiles
- Fix client not displaying the last messages before death
- Fix description when looking at a player and pressing 'r'
- Fix Dungeon Master not having full ESP on LIMITED_ESP servers
- Fix crash when flickering multi-hued players, party leaders and elementalists
- Fix bolt/ball/breath spells not damaging wraithed players
- Replace "in the town" by "on the surface" when a character is killed
  outside of the dungeon

Coding changes
--------------

PWMAngband:

- Allow the console to run from PuTTY via Telnet
- Move dragon breed info to dragon_breed.txt
- Allow customized maps for each town except base town (Carn Dûm),
  set MAngband-style town by default if the corresponding town_xxx.txt file
  doesn't exist
- Allow one dungeon in each customized town
- Add parser errors for trying to add a "normal" or "always" entry
  for Black Markets in store.txt
- Add rarity and price factor to "normal" entries in store.txt

Compilation
-----------

- Add a debug version of the server executable which generates a mangband.rpt
  file when a crash occurs
- LIBPNG upgraded to version 1.6.36